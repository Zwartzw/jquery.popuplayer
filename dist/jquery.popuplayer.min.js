"use strict";function _defineProperty(t,o,n){return o in t?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n,t}!function(t){var o=function(o,n){this.$elem=t(o),this.$mask=t('<div class="popup-layer-overlay"></div>'),this.$content=t('<div class="popup-layer-content"></div>'),this.$blurAreas=t("body > *"),this.fromTo=0,this.defaults={content:"",target:"body",from:"bottom",blur:!1,speed:150,color:"#000",background:"#fff",overlayBackground:"rgba(0, 0, 0, 0.2)",defaultClose:!1,closeBtn:null,beforeOpen:null,afterClose:null},this.options=t.extend({},this.defaults,n)};o.prototype={init:function(){this.attachElems(),this.updateContent(),this.bindEvents()},updateContent:function(){t(this.options.content).length>0?this.$content.html(t(this.options.content)):this.$content.html(this.options.content);var o=this;t(function(){o.$content.children().show()});var n={};n.color=o.options.color,n.background=o.options.background,o.$content.css(n),o.$mask.css({background:o.options.overlayBackground})},attachElems:function(){this.$mask.appendTo(t(this.options.target)),this.$content.appendTo(this.options.target)},open:function(){var t=this;this.options.beforeOpen&&this.options.beforeOpen(),this.$mask.fadeIn(this.options.speed),this.$content.animate(_defineProperty({},t.options.from,0),this.options.speed,function(){"top"==t.options.from||"bottom"==t.options.from?t.fromTo=t.$content.outerHeight():t.fromTo=t.$content.outerWidth()}),this.options.blur&&this.$blurAreas.addClass("popup-layer-blur")},close:function(){var t=this;this.$mask.fadeOut(this.options.speed),this.$content.animate(_defineProperty({},t.options.from,0-t.fromTo),this.options.speed),this.options.blur&&this.$blurAreas.removeClass("popup-layer-blur"),this.options.afterClose&&this.options.afterClose()},bindEvents:function(){var o=this;this.$elem.click(function(){o.open()}),this.$mask.click(function(){o.close()}),this.options.closeBtn&&t(this.options.closeBtn).click(function(){o.close()})}},t.fn.PopupLayer=function(t){return this.each(function(){new o(this,t).init()})}}(jQuery);